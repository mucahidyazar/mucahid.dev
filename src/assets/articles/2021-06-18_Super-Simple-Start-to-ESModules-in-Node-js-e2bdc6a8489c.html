<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Super Simple Start to ESModules in Node.js</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Super Simple Start to ESModules in Node.js</h1>
</header>
<section data-field="subtitle" class="p-summary">
Node.js’in tüm desteklenen versiyonları artık ESModules’ü destekliyor. Bu yazımızda bunu nasıl çok basit bir şekilde yapacağımızı…
</section>
<section data-field="body" class="e-content">
<section name="53b7" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="c2ab" id="c2ab" class="graf graf--h3 graf--leading graf--title">Super Simple Start to ESModules in Node.js</h3><p name="4580" id="4580" class="graf graf--p graf-after--h3">Node.js’in tüm desteklenen versiyonları artık ESModules’ü destekliyor. Bu yazımızda bunu nasıl çok basit bir şekilde yapacağımızı göstereceğim.</p><figure name="d5d9" id="d5d9" class="graf graf--figure graf-after--p"><img class="graf-image" data-image-id="0*in3EvvxkSMhiyeV2.png" data-width="1400" data-height="800" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/0*in3EvvxkSMhiyeV2.png"></figure><p name="e978" id="e978" class="graf graf--p graf-after--figure">30 Nisan 2021&#39;de, Node v10 resmi olarak “kullanım ömrünün sonuna” ulaşacak (<a href="https://nodejs.org/en/about/releases/" data-href="https://nodejs.org/en/about/releases/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><strong class="markup--strong markup--p-strong">Node Release</strong></a> sayfasından daha fazla bilgi edinin). Bu heyecan verici çünkü Node.js JavaScript runtime desteklenen her sürümünün, Node’un resmi EcmaScript Modüllerini destekleyeceği anlamına geliyor! Bu değişiklikle ilgili karışık duygular var (bazıları Node.js ekosisteminde CommonJS’ye bağlı kalmamızı tercih ederdi), ancak konuyla ilgili fikriniz ne olursa olsun, ESModüller burada ve onlar gelecek. Öyleyse onları bir Node.js ortamında nasıl kullanacağımızı öğrenelim.</p><p name="2cff" id="2cff" class="graf graf--p graf-after--p">Note: You might be interested in my companion post <a href="https://kentcdodds.com/blog/super-simple-start-to-es-modules-in-the-browser" data-href="https://kentcdodds.com/blog/super-simple-start-to-es-modules-in-the-browser" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Super Simple Start to ESModules in the Browser</a></p><p name="67e1" id="67e1" class="graf graf--p graf-after--p">First, we need the JavaScript we want to run:</p><p name="ba69" id="ba69" class="graf graf--p graf-after--p">İlk olarak ihtiyacımız olan, çalıştıracağımız get-files.js isimli javascript dosyasını aşağıya bırakıyorum. Ve burada dikkat edin “import ve export” kullanıyoruz yani modern javascript ES Modules özelliklerini kullanıyoruz.</p><p name="c66e" id="c66e" class="graf graf--p graf-after--p">Burada olan şu:</p><ul class="postList"><li name="76a3" id="76a3" class="graf graf--li graf-after--p">getFiles fonksiyonu bir dizin yani path parametresi alıyor. Ve bu dizindeki dosyaların bazı özelliklerini bir array içinde dönüyor bize. Örnek array yapısı aşağıdaki gibi olacak. Yani typeda dosya veya klasör olduğu, filepathda dosya yolu, content’de ise odosyanın içindeki herşeyi satır satır string olarak bize dönecek.<br>[{ type: ‘file’, filepath: ‘package.json’, content: ‘…’ }]</li></ul><figure name="c726" id="c726" class="graf graf--figure graf--iframe graf-after--li"><script src="https://gist.github.com/mucahidyazar/89709c2bd89e7e826442897aed81e39a.js"></script></figure><p name="5047" id="5047" class="graf graf--p graf-after--figure">Next, let’s make a JavaScript file that imports this and runs it:</p><p name="f684" id="f684" class="graf graf--p graf-after--p">Sonra bir index dosyası oluşturup yukarıdaki util fonksiyonumuzu import ederek kullanalım.</p><figure name="ed39" id="ed39" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/mucahidyazar/c0719d3529d376a7e12fc0155c7ff5c4.js"></script></figure><p name="aa10" id="aa10" class="graf graf--p graf-after--figure">Eğer hiçbir ayar yapmadan çalıştırırsak aşağıda ki konsol hatasını alacağız. Aşağıdaki kodla çalıştırıp terminal hatasını göreceksiniz.<br><strong class="markup--strong markup--p-strong">node index.js</strong></p><pre name="9b11" id="9b11" class="graf graf--pre graf-after--p">node .<br>2(node:5369) Warning: To load an ES module, set &quot;type&quot;: &quot;module&quot; in the package.json or use the .mjs extension.<br>3(Use `node --trace-warnings ...` to show where the warning was created)<br>4/Users/kentcdodds/Desktop/super-simple-start-to-esm-in-node/index.js:1<br>5import {getFiles} from &#39;./get-files.js&#39;<br>6^^^^^^<br>7<br>8SyntaxError: Cannot use import statement outside a module<br>9    at wrapSafe (internal/modules/cjs/loader.js:979:16)<br>10    at Module._compile (internal/modules/cjs/loader.js:1027:27)<br>11    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1092:10)<br>12    at Module.load (internal/modules/cjs/loader.js:928:32)<br>13    at Function.Module._load (internal/modules/cjs/loader.js:769:14)<br>14    at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:72:12)<br>15    at internal/main/run_main_module.js:17:47</pre><p name="f483" id="f483" class="graf graf--p graf-after--pre">Node.js projesi bazen breaking changelerle karşılaşacaktır ve bu normaldir, ancak burada olan ise bir non-starter durumudur yani hiçbir breaking change ile karşılaşmadan çalışmama durumudur. Bu yüzden ESM kullanmak bir seçimdir. Fakat bu şekilde kullanmak istersek burada 2 seçeneğimiz olduğunu biliyoruz.</p><p name="154d" id="154d" class="graf graf--p graf-after--p">Birincisi, dosyalarımızın uzantısını .Js’den .mjs’ye geçerek başarıyla import kullanan .mjs dosyalarımızı çalıştırabiliriz.</p><p name="f21a" id="f21a" class="graf graf--p graf-after--p">İkincisi en basiti “type”: “module” satırını bir package.json ekleyerek .js dosyalarımızı süper basit bir şekilde başarıyla çalıştırabiliriz.</p><p name="48c7" id="48c7" class="graf graf--p graf-after--p">İkinci seçenekle gidelim, böylece tüm dosyalarımızı yeniden adlandırmak zorunda kalmayalım. Bunu bir package.json içine koyun:</p><pre name="bc20" id="bc20" class="graf graf--pre graf-after--p">{<br>  &quot;type&quot;: &quot;module&quot;<br>}</pre><p name="8575" id="8575" class="graf graf--p graf-after--pre">Ve şimdi tekrar çalıştırıyoruz. Ve sonuç aşağıda ki gibi olacaktır sizde de eminim :)</p><pre name="7746" id="7746" class="graf graf--pre graf-after--p">node .<br>2[<br>3  {<br>4    type: &#39;file&#39;,<br>5    filepath: &#39;get-files.js&#39;,<br>6    content: &quot;import path from &#39;path&#39;\n&quot; +<br>7      // clipped for brevity<br>8      &#39;export {getFiles}\n&#39;<br>9  },<br>10  {<br>11    type: &#39;file&#39;,<br>12    filepath: &#39;index.js&#39;,<br>13    content: &quot;import {getFiles} from &#39;./get-files.js&#39;\n&quot; +<br>14      &#39;\n&#39; +<br>15      &quot;console.log(await getFiles(&#39;.&#39;))\n&quot;<br>16  },<br>17  {<br>18    type: &#39;file&#39;,<br>19    filepath: &#39;package.json&#39;,<br>20    content: &#39;{\n  &quot;type&quot;: &quot;module&quot;\n}\n&#39;<br>21  }<br>22]</pre><p name="fccf" id="fccf" class="graf graf--p graf-after--pre">Ve işte bu kadar basit bir şekilde doğal native ESM kodlarımızı node.js ile çalıştırıyoruz.</p><p name="d34b" id="d34b" class="graf graf--p graf-after--p">Eğer official destek duyurusunu ve detaylarını okumak isterseniz, detaylara aşağıdaki linkten ulaşabilirsiniz.<br><a href="https://nodejs.medium.com/announcing-core-node-js-support-for-ecmascript-modules-c5d6dc29b663" data-href="https://nodejs.medium.com/announcing-core-node-js-support-for-ecmascript-modules-c5d6dc29b663" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://nodejs.medium.com/announcing-core-node-js-support-for-ecmascript-modules-c5d6dc29b663</a></p><p name="e3ca" id="e3ca" class="graf graf--p graf-after--p graf--trailing">Bu makalenin orjinali için ayrıca aşağıdaki linkten göz atabilirsiniz.<br><a href="https://kentcdodds.com/blog/super-simple-start-to-es-modules-in-node-js" data-href="https://kentcdodds.com/blog/super-simple-start-to-es-modules-in-node-js" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://kentcdodds.com/blog/super-simple-start-to-es-modules-in-node-js</a></p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@mucahidyazar" class="p-author h-card">Mucahid Yazar</a> on <a href="https://medium.com/p/e2bdc6a8489c"><time class="dt-published" datetime="2021-06-18T07:03:06.791Z">June 18, 2021</time></a>.</p><p><a href="https://medium.com/@mucahidyazar/super-simple-start-to-esmodules-in-node-js-e2bdc6a8489c" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on November 24, 2022.</p></footer></article></body></html>